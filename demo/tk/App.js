(function(a){var b=navigator.userAgent,c=/Firefox/.test(b);/MSIE/.test(b);var d=/MSIE 6/.test(b),b=/MSIE 7/.test(b)||7==a.documentMode;if(d)try{a.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var f;window.Class=function(a,b){var c=a.split(":"),d=c[0],c=c[1],e=b[d],m=b.Static,k=function(){f&&e.apply(this,arguments)},n,l=b;if(c)for(n in f=0,l=new window[c],f=1,b)l[n]=b[n];for(n in m)k[n]=m[n];l.constructor=k;k.prototype=l;k.toString=function(){return"[class "+d+"]"};window[d]=k};Class("Layer",
{_div:null,_sty:null,Layer:function(){this._div=a.createElement("div");this._sty=this._div.style;this._sty.position="absolute";this._sty.overflow="hidden"},x:0,setX:c?function(a){this._sty.left=(this.x=a)+"px"}:function(a){this._sty.pixelLeft=this.x=a},y:0,setY:c?function(a){this._sty.top=(this.y=a)+"px"}:function(a){this._sty.pixelTop=this.y=a},width:0,setWidth:c?function(a){this._sty.width=(this.width=a)+"px"}:function(a){this._sty.pixelWidth=this.width=a},height:0,setHeight:c?function(a){this._sty.height=
(this.height=a)+"px"}:function(a){this._sty.pixelHeight=this.height=a},z:-1,setZ:function(a){this._sty.zIndex=a},setSize:function(a,b){this.setWidth(a);this.setHeight(b)},move:function(a,b){this.setX(a);this.setY(b)},moveBy:function(a,b){this.move(this.x+a,this.y+b)},visible:!0,setVisible:d||b?function(a){if(this.visible!=a)this.visible=a,this._sty.marginTop=a?"0":"-9999px"}:function(a){if(this.visible!=a)this.visible=a,this._sty.display=a?"block":"none"},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},
setBG:function(a){this._sty.background=a},setClass:function(a){this._div.className=a},append:function(a){this._div.appendChild(a._div)},attach:function(a){a.appendChild(this._div)}});Class("Sprite:Layer",{_iFrCol:0,_iFrNum:0,_iImgW:0,_iImgH:0,_arrDef:null,_arrSeqs:null,_iSeqLen:0,_curSeq:0,_curFrm:0,_rectColl:null,_updateImg:function(){if(1!=this._iFrNum)this._sty.backgroundPosition=-(this._curFrm%this._iFrCol)*this.width+"px "+-(this._curFrm/this._iFrCol>>0)*this.height+"px"},Sprite:function(a,b,
c){this.Layer();this.setImage(a,b,c)},setImage:function(a,b,c){var d=Loader.ImgCache[a];if(!d)throw Error("Image "+a+"not loaded");var e=this._iImgW=d.w,d=this._iImgH=d.h;this._iFrNum=1;this._arrDef=[];if(null!=b){if(e%b||d%c)throw Error("Image "+a+" ("+e+"*"+d+") size must be an integral multiple of ("+b+"*"+c+")");this._iFrCol=e/b;this._iFrNum=this._iFrCol*(d/c);for(e=0;e<this._iFrNum;++e)this._arrDef[e]=e;this._arrSeqs=this._arrDef;this._iSeqLen=this._iFrNum-1;e=b;d=c}this._sty.backgroundImage=
"url("+a+")";this.setSize(e,d)},setFrameSeq:function(a){var b;if(a){if(b=a.length,0>=b)throw Error("Invalid frame sequence");}else a=this._arrDef,b=this._iFrNum;if(b<this._iSeqLen+1)this._curSeq=0,this._curFrm=a[0];this._arrSeqs=a;this._iSeqLen=b-1;this._updateImg()},getFrameSeqLength:function(){return this._iSeqLen+1},getRawFrameCount:function(){return this._iFrNum},setFrame:function(a){this._curFrm=this._arrSeqs[a];if(null==this._curFrm)throw Error("Invalid frame index");this._curSeq=a;this._updateImg()},
getFrame:function(){return this._curSeq},nextFrame:function(){this._curSeq==this._iSeqLen?this._curSeq=0:++this._curSeq;this._curFrm=this._arrSeqs[this._curSeq];this._updateImg()},prevFrame:function(){this._curSeq?--this._curSeq:this._curSeq=this._iSeqLen;this._curFrm=this._arrSeqs[this._curSeq];this._updateImg()},collidesWith:function(a){if(a.visible){var b,c,d,e,f,k,n,l=this._rectColl;l?(b=this.x+l.x,c=this.y+l.y,d=l.width,e=l.height):(b=this.x,c=this.y,d=this.width,e=this.height);(l=a._rectColl)?
(f=a.x+l.x,k=a.y+l.y,n=l.w,a=l.h):(f=a.x,k=a.y,n=a.width,a=a.height);return b-n<f&&f<b+d&&c-a<k&&k<c+e}},defCollRect:function(a){this._rectColl=a}});Class("TiledLayer:Layer",{_drawTileImg:function(a,b){var c=this._arrTile[b][a],d=c.staticID-1;c.sty.backgroundPosition=-(d%this._iFrCol)*this._iTileW+"px "+-(d/this._iFrCol>>0)*this._iTileH+"px"},TiledLayer:function(b,c,d,e,f){this.Layer();this._arrTile=[];this._arrAniTile=[];this._iColNum=b;this._iRowNum=c;var m=a.createDocumentFragment();this._arrTile=
[];var k,n,l;for(n=0;n<c;n++){l=this._arrTile[n]=[];for(k=0;k<b;k++){var r=a.createElement("div"),q=r.style;q.position="absolute";q.backgroundRepeat="no-repeat";m.appendChild(r);l[k]={id:0,staticID:0,sty:q}}}this._div.appendChild(m);this.setStaticTileSet(d,e,f)},createAniTile:function(a){if(0>a||a>this._iFrNum)throw Error("Invalid tile index");var b=this._arrAniTile,c=b.length;b[c]={id:a,ref:{}};return~c},setAniTile:function(a,b){var c=this._arrAniTile[~a];if(!c)throw Error("Invalid animated tile index");
if(c.staticID!=b){c.staticID=b;var d,e,f;for(d in c.ref)if(0<d)e=d%1E5,f=d/1E5>>0,this._arrTile[f][e].staticID=b,this._drawTileImg(e,f)}},getAniTile:function(a){a=this._arrAniTile[~a];if(!a)throw Error("Invalid animated tile index");return a.id},fillCells:function(a,b,c,d,e){for(var d=b+d,f,c=a+c;b<d;b++)for(f=a;f<c;f++)this.setCell(f,b,e)},getCell:function(a,b){return this._arrTile[b][a].id},setCell:function(a,b,c){var d=this._arrTile[b][a],e=c;0>d.id&&delete this._arrAniTile[~d.id].ref[1E5*b+a];
if(0>c)e=this._arrAniTile[~c],e.ref[1E5*b+a]=!0,e=e.id;d.id=c;d.staticID=e;this._drawTileImg(a,b)},setStaticTileSet:function(a,b,c){var d=Loader.ImgCache[a];if(!d)throw Error("Image "+a+"not loaded");this._iImgW=d.w;this._iImgH=d.h;if(1>b||1>c)throw Error("Invalid argument");if(this._iImgW%b||this._iImgH%c)throw Error("Image: "+a+" ("+iImgW+"*"+iImgH+") size must be an integral multiple of ("+b+"*"+c+")");this._iFrCol=this._iImgW/b;this._iFrNum=this._iFrCol*(this._iImgH/c);this.setSize(this._iColNum*
b,this._iRowNum*c);for(d=0;d<this._iColNum;d++)for(var e=this._arrTile[d],f=0;f<this._iRowNum;f++){var k=e[f].sty;k.backgroundImage="url("+a+")";k.backgroundPosition="0 -9999px";k.left=f*b+"px";k.top=d*c+"px";k.width=b+"px";k.height=c+"px"}this._iTileW=b;this._iTileH=c}});Class("Lable:Layer",{Lable:function(a){this.Layer();this._sty.font="22px 'Arial Black'";"string"==typeof a&&this.setText(a)},setColor:function(a){this._sty.color=a},setText:function(a){a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,
"&gt;").replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;");this.setHTML(a)},setHTML:function(a){this._div.innerHTML=a},setAlign:function(a){this._sty.textAlign=a},setCSS:function(a){for(var b in a)this._sty[b]=a[b]}});window.Loader=function(a){function b(){var c=a[this.tid];Loader.ImgCache[c]={w:this.width,h:this.height};++d;"function"==typeof e.process&&e.process(c,d,a.length);d==a.length&&"function"==typeof e.complete&&e.complete()}function c(){"function"==typeof e.error&&e.error(a[this.tid],d,a.length)}
var d=0,e;this.setListener=function(d){if(!d)throw Error("Invalid interface");e=d;for(var f,d=0;d<a.length;++d)f=new Image,f.onload=b,f.onerror=c,f.tid=d,f.src=a[d]}};Loader.ImgCache={};window.Input=function(){function b(a){Input.keyPress((a||event).keyCode)}function c(a){Input.keyRelease((a||event).keyCode)}for(var d=[],e=[],f=[],m=0;128>m;++m)d[m]=1,e[m]=-1E8,d[13]=d[16]=d[75]=d[76]=1E8;a.addEventListener?(a.addEventListener("keydown",b,!1),a.addEventListener("keyup",c,!1)):(a.attachEvent("onkeydown",
b),a.attachEvent("onkeyup",c));return{keyPress:function(a){f[a]=!0},keyRelease:function(a){f[a]=!1;e[a]=-1E8},setKeyRepeat:function(a,b){d[a]=b},isPressed:function(a){if(!f[a])return!1;var b=+new Date;if(b-e[a]<d[a])return!1;e[a]=b;return!0},KEY_NOREPEAT:1E8,ACTION_UP:87,ACTION_DOWN:83,ACTION_LEFT:65,ACTION_RIGHT:68,ACTION_GAME_A:73,ACTION_GAME_B:79,ACTION_GAME_C:75,ACTION_GAME_D:76,ACTION_START:13,ACTION_SELECT:16}}()})(document);var Misc={ARR:function(a){var b,c,d=[];for(b=1,c=arguments.length;b<c;++b)d[b-1]=a+arguments[b];return d},StrN:function(a,b){return("          "+a).slice(-b)}};function Tick(a){var b=a;this.on=function(){if(--b)return!1;b=a;return!0};this.reset=function(c){b=null!=c?a=c:a}};function Timer(a,b){function c(){var c=+new Date;e+=c-d;d=c;e>=b&&(a.OnTimer(),e%=b)}var d=+new Date,e=0,f;this.start=function(){f=setInterval(c,1)};this.stop=function(){clearInterval(f);e=0}};Class("App",{Static:{MAX_STAGE:35,MAX_TANK:5,TIME_BULPRF_DEF:250,TIME_BULPRF_BONUS:1200,TIME_WALL_IRON:1200,BONUS_MAP:[0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0],MyApp:null,Scene:null,Game:null,OpenUI:null,GameUI:null,ScoreUI:null,OverUI:null},_curUI:null,_tickUI:0,_oTimer:null,App:function(){(new Loader("res/Tank.png,res/Terr.png,res/Boom.png,res/Misc.png,res/UI.png,res/Frag.png".split(","))).setListener(this)},complete:function(){App.MyApp=this;App.Game=new Game;this._CreateUI([App.OpenUI=new UIOpen,
App.GameUI=new UIGame,App.ScoreUI=new UIScore,App.OverUI=new UIOver]);App.Scene=new Scene;this.Go(App.OpenUI)},_CreateUI:function(a){var b,c=new Layer;c.setSize(512,448);c.setClass("GameScreen");c.attach(document.body);for(b=0;4>b;++b)a[b].hide(),a[b].setSize(512,448),c.append(a[b])},OnTimer:function(){var a=this._curUI.OnUpdate(this._tickUI);this._tickUI=-999!=a?a+1:0},Go:function(a){this._curUI&&this._curUI.OnLeave();a.OnEnter();this._curUI=a;if(!this._oTimer)this._oTimer=new Timer(this,16),this._oTimer.start();
return-999}});Class("Scene",{Static:{Z_MAP:0,Z_FRAG:1,Z_BULL:2,Z_TANK:3,Z_GRASS:4,Z_SCORE:5,Z_BONUS:6,Z_BOOM:7,Z_UI:8,BLOCK_NONE:0,BLOCK_TILE:15,BLOCK_ICE:16,BLOCK_IRON:32,BLOCK_WATER:64,BLOCK_BASE1:128,BLOCK_BASE2:256,FR_BIRTH:112,FR_SCORE:116,FR_BONUS:121,FR_BULPRF:11},Tanks:null,Bonus:null,Block:null,_arrStageData:null,_arrEnemyData:null,_curStgMap:null,_curStgEnemy:null,_tickWater:null,_statWater:null,_oMapLayer:null,_oBoomBase:null,_arrGrass:null,_numGrass:0,_arrFragMap:null,_arrFragFree:null,Scene:function(){this._tickWater=
new Tick(60);this._statWater=new Tick(2);this._arrGrass=[];this._arrFragMap=[];this._arrFragFree=[];this.Block=[];for(i=0;26>i;++i)this._arrFragMap[i]=[],this.Block[i]=[];this._oMapLayer=new TiledLayer(13,13,"res/Terr.png",32,32);this._oMapLayer.setZ(Scene.Z_MAP);this._oMapLayer.createAniTile(4);this._oMapLayer.setBG("#000");this._oMapLayer.move(34,18);App.GameUI.append(this._oMapLayer);this.Tanks=[new Tank(!1)];for(i=1;i<App.MAX_TANK;++i)this.Tanks[i]=new Tank(!0);this.Bonus=new Bonus;this._oBoomBase=
new Boom(!0);this._oBoomBase.move(176,368);this._LoadData(RES_DATA)},BaseBoom:function(){this._oBoomBase.start();this.SetMapCell(6,12,3)},Update:function(){this.Bonus.update();this._oBoomBase.update();this._tickWater.on()&&this._oMapLayer.setAniTile(-1,this._statWater.on()?4:5)},CreatePlayer:function(){var a=this.Tanks[0];a.setPos(128,384);a.setDir(0);a.startBulProof(App.TIME_BULPRF_DEF);a.birth()},CreateEnemy:function(a){var b,c;for(b=1;b<App.MAX_TANK&&!(c=this.Tanks[b],c.isIdle());++b);b=(a%3+1)%
3;this.SetMapCell(6*b,0,0);c.setPos(192*b,0);c.setDir(2);c.setType(this._curStgEnemy[a]);App.GameUI.EnemyFlag[19-a].hide();App.BONUS_MAP[a]&&(c.hasBonus(),this.Bonus.clear());c.birth()},BuildMap:function(){var a=App.Game.Stage-1;this._curStgMap=this._arrStageData[a];this._curStgEnemy=this._arrEnemyData[a];this._numGrass=0;for(var b,a=0;13>a;a++)for(b=0;13>b;b++)this.SetMapCell(b,a,this._curStgMap[a][b]);b=this._arrGrass.length;for(a=this._numGrass;a<b;++a)this._arrGrass[a].hide();this.SetMapCell(6,
12,2);this.SetMapCell(4,12,0)},ClearMap:function(){this._oMapLayer.fillCells(0,0,13,13,0);var a,b=this._arrGrass.length;for(a=0;a<b;++a)this._arrGrass[a].hide()},GetBlock4x4:function(a,b){var c=this.Block,d=c[b][a];return d==c[b][a+1]&&d==c[b+1][a]&&d==c[b+1][a+1]?d:-1},SetMapCell:function(a,b,c){var d=2*a,e=2*b;this._ClearFrag(d,e);this._ClearFrag(d+1,e);this._ClearFrag(d,e+1);this._ClearFrag(d+1,e+1);1==c?(c=this._arrGrass[this._numGrass],c||(c=this._arrGrass[this._numGrass]=new Sprite("res/Terr.png",
32,32),c.setZ(Scene.Z_GRASS),App.GameUI.append(c)),c.move(34+32*a,18+32*b),c.show(),this._numGrass++,c=0):2==c?this._SetCellBlock(6,12,Scene.BLOCK_BASE1,15):3==c?this._SetCellBlock(6,12,Scene.BLOCK_BASE2,15):4==c?(this._SetCellBlock(a,b,Scene.BLOCK_WATER,15),c=-1):6==c?this._SetCellBlock(a,b,Scene.BLOCK_ICE,15):7<=c&&21>=c?this._SetCellBlock(a,b,Scene.BLOCK_IRON,c-6):22<=c&&this._SetCellBlock(a,b,Scene.BLOCK_TILE,c-21);0==c&&this._SetCellBlock(a,b,Scene.BLOCK_NONE,15);this._oMapLayer.setCell(a,b,
c)},SetTileFrag:function(a,b,c){var d=this.Block,e=a-a%2,f=b-b%2,j=e+1,g=f+1,h,p;d[b][a]=c;var o,m=0;for(o=0;4>o;++o)h=o%2?j:e,p=2>o?f:g,d[p][h]?m+=1<<o:this._ClearFrag(h,p);this._oMapLayer.setCell(e/2,f/2,m?m+21:0);c&&this._DrawFrag(a,b,c)},SetIronFrag:function(a,b,c){var d=this.Block;d[b][a]=c;var a=a-a%2,b=b-b%2,c=a+1,e=b+1,f,j,g,h=0;for(g=0;4>g;++g)f=g%2?c:a,j=2>g?b:e,d[j][f]&&(h+=1<<g);this._oMapLayer.setCell(a/2,b/2,h?h+6:0)},_DrawFrag:function(a,b,c){var d=this._arrFragMap[b][a];d||(d=this._arrFragFree.pop());
d||(d=new Sprite("res/Frag.png",16,16),d.setZ(Scene.Z_FRAG),App.GameUI.append(d));d.show();d.move(34+16*a,18+16*b);d.setFrame(c-1);this._arrFragMap[b][a]=d},_ClearFrag:function(a,b){var c=this._arrFragMap[b][a];c&&(c.hide(),this._arrFragFree.push(c),this._arrFragMap[b][a]=null)},_SetCellBlock:function(a,b,c,d){var e=this.Block,a=2*a,f=a+1,b=2*b,j=b+1;e[b][a]=d&1?c:0;e[b][f]=d&2?c:0;e[j][a]=d&4?c:0;e[j][f]=d&8?c:0},_LoadData:function(a){var b,c,d,e,f,j,g=0;this._arrStageData=[];this._arrEnemyData=
[];for(d=0;d<App.MAX_STAGE;++d){b=[];c=[];for(e=0;13>e;e++){j=b[e]=[];for(f=0;13>f;f++)j[f]=a.charCodeAt(g++)-65}for(e=0;20>e;e++)c[e]=a.charCodeAt(g++)-65;this._arrStageData[d]=b;this._arrEnemyData[d]=c}}});Class("Game",{Stage:1,Life:2,Score:0,ScoreHi:2E4,ScoreBonus:2E4,FirstStart:!0,GameOver:!1,StgClr:!1,KillTypeNum:null,_iBirthDelay:0,_tickBirth:null,_tickStgClr:null,_iEnemyNum:0,_iEnemyID:0,_bPressd:!1,_timerSlide:999,Game:function(){this._tickBirth=new Tick(30);this._tickStgClr=new Tick(200)},NewStage:function(){App.Scene.BuildMap();this._iEnemyID=this._iEnemyNum=0;this.KillTypeNum=[0,0,0,0];this.StgClr=!1;this._tickStgClr.reset();this._iBirthDelay=150-3*this.Stage;this._tickBirth.reset(30);App.GameUI.LableStg.setText(this.Stage+
"")},Reset:function(){this.FirstStart=!0;this.GameOver=!1;this.Stage=1;this.Score=0;this.ScoreBonus=2E4;this.Life=2;this._DisplayLife()},KillEnemy:function(a){-1!=a&&++this.KillTypeNum[a];if(0==--this._iEnemyNum&&20==this._iEnemyID)this.StgClr=!0},BaseDestroy:function(){App.Scene.BaseBoom();this.GameOver=!0},SocreAdd:function(a){this.Score+=a;this.Score>this.ScoreBonus&&(this.ScoreBonus+=2E4,this.LifeInc())},LifeInc:function(){++this.Life;this._DisplayLife()},LifeDec:function(){--this.Life;0>this.Life?
this.GameOver=!0:this._DisplayLife()},_DisplayLife:function(){App.GameUI.LableLife.setText(this.Life+"")},Update:function(){var a=App.Scene.Tanks,b=Math.random;App.Scene.Update();a[0].isIdle()&&0<=this.Life&&App.Scene.CreatePlayer();a[0].update();this._iEnemyNum<App.MAX_TANK-1&&20!=this._iEnemyID&&this._tickBirth.on()&&(App.Scene.CreateEnemy(this._iEnemyID),++this._iEnemyNum,++this._iEnemyID,this._tickBirth.reset(this._iBirthDelay));if(this.StgClr&&this._tickStgClr.on())return!0;var c=App.Scene.Bonus.isFreezed(),
d,e;for(d=1;d<App.MAX_TANK;++d)e=a[d],e.update(),!c&&e.isLive()&&(0.03>b()&&e.fire(),e.go()||0.2>b()&&e.setDir(4*b()>>0))},Command:function(){var a=App.Scene.Tanks[0];if(a.isLive()){(Input.isPressed(Input.ACTION_GAME_A)||Input.isPressed(Input.ACTION_GAME_C))&&a.fire();if(24>this._timerSlide){if(!a.go()||!a.onIce())this._timerSlide=999;if(12>++this._timerSlide)return}switch(!0){case Input.isPressed(Input.ACTION_UP):a.setDir(0);break;case Input.isPressed(Input.ACTION_RIGHT):a.setDir(1);break;case Input.isPressed(Input.ACTION_DOWN):a.setDir(2);
break;case Input.isPressed(Input.ACTION_LEFT):a.setDir(3);break;default:if(this._bPressd){if(a.onIce())this._timerSlide=0;this._bPressd=!1}return}this._timerSlide=999;this._bPressd=!0;a.go()}}});Class("Bonus",{Static:{STATE_NONE:0,STATE_SHOW:1,STATE_SCORE:2},_sptIcon:null,_state:0,_type:0,_tickFlash:null,_statFlash:null,_tickToggle:null,_statToggle:null,_tickScore:null,_timerProtect:0,_timerFreeze:0,Bonus:function(){this._sptIcon=new Sprite("res/Tank.png",32,32);this._sptIcon.hide();this._sptIcon.setZ(Scene.Z_BONUS);App.GameUI.append(this._sptIcon);this._tickFlash=new Tick(10);this._statFlash=new Tick(2);this._tickToggle=new Tick(30);this._statToggle=new Tick(2);this._tickScore=new Tick(20)},
_checkBonus:function(){var a;a=App.Scene.Tanks[0];if(a.isLive()&&a.checkColl(this._sptIcon)){switch(this._type){case 0:this._timerProtect=App.TIME_WALL_IRON;this._statToggle.reset();this._setBaseWall(!0);break;case 1:3>a.type&&a.setType(a.type+1);break;case 2:App.Game.LifeInc();break;case 3:a.startBulProof(App.TIME_BULPRF_BONUS);break;case 4:for(a=1;a<App.MAX_TANK;++a)App.Scene.Tanks[a].isLive()&&App.Scene.Tanks[a].hit(!0);break;case 5:this._timerFreeze=1E3}App.Game.SocreAdd(500);this._sptIcon.show();
this._sptIcon.setFrame(Scene.FR_SCORE+4);this._state=Bonus.STATE_SCORE}},_setBaseWall:function(a){a=a?0:15;App.Scene.SetMapCell(5,11,14+a);App.Scene.SetMapCell(6,11,18+a);App.Scene.SetMapCell(7,11,10+a);App.Scene.SetMapCell(5,12,16+a);App.Scene.SetMapCell(7,12,11+a)},update:function(){this._timerProtect--;this._timerFreeze--;0<=this._timerProtect&&330>this._timerProtect&&this._tickToggle.on()&&this._setBaseWall(this._statToggle.on());switch(this._state){case Bonus.STATE_SHOW:this._tickFlash.on()&&
this._sptIcon.setVisible(this._statFlash.on());this._checkBonus();break;case Bonus.STATE_SCORE:this._tickScore.on()&&this.clear()}},show:function(){var a=Math.random;this._type=6*a()>>0;var b,c;do b=24*a()>>0,c=24*a()>>0;while(App.Scene.GetBlock4x4(b,c)>=Scene.BLOCK_IRON);this._sptIcon.setFrame(Scene.FR_BONUS+this._type);this._sptIcon.move(34+16*b,18+16*c);this._sptIcon.show();this._state=Bonus.STATE_SHOW},isFreezed:function(){return 0<this._timerFreeze},clear:function(){this._sptIcon.hide();this._state=
Bonus.STATE_NONE},reset:function(){this.clear();this._tickScore.reset();this._timerProtect=this._timerFreeze=0}});Class("Boom",{_big:!1,_start:!1,_sptBoom:null,_tickBoom:null,Boom:function(a){this._sptBoom=new Sprite("res/Boom.png",64,64);this._sptBoom.hide();this._sptBoom.setZ(Scene.Z_BOOM);this._sptBoom.setFrameSeq(a?[0,1,2,3,4,1]:[0,1]);App.GameUI.append(this._sptBoom);this._big=a;this._tickBoom=new Tick(4)},move:function(a,b){this._sptBoom.move(34+a,18+b)},update:function(){if(this._start&&(!this._big||this._tickBoom.on()))if(this._sptBoom.nextFrame(),0==this._sptBoom.getFrame())return this._sptBoom.hide(),
this._start=!1,!0},start:function(){this._sptBoom.show();this._start=!0},reset:function(){this._sptBoom.hide();this._tickBoom.reset();this._start=!1}});Class("Bullet",{Static:{STATE_NONE:0,STATE_FIRE:1,STATE_BOOM:2,STATE_RESET:3},_sptBul:null,_boom:null,state:0,x:0,y:0,dir:0,speed:0,pow:0,Bullet:function(){this._sptBul=new Sprite("res/Misc.png",8,8);this._sptBul.hide();this._sptBul.setZ(Scene.Z_BULL);App.GameUI.append(this._sptBul);this._boom=new Boom(!1)},update:function(){switch(this.state){case Bullet.STATE_FIRE:for(var a=0;a<this.speed;++a){switch(this._go()){case 1:this._boom.move(this.x-28,this.y-28);this._boom.start();this.state=Bullet.STATE_BOOM;
return;case 2:this.state=Bullet.STATE_RESET;return}switch(this.dir){case 0:this.y-=2;break;case 1:this.x+=2;break;case 2:this.y+=2;break;case 3:this.x-=2}this._sptBul.move(34+this.x,18+this.y)}break;case Bullet.STATE_BOOM:if(this._boom.update())this.state=Bullet.STATE_RESET;break;case Bullet.STATE_RESET:this._sptBul.hide(),this.state=Bullet.STATE_NONE}},isIdle:function(){return this.state==Bullet.STATE_NONE},shot:function(a,b,c){switch(c){case 0:a+=12;b-=8;break;case 1:a+=32;b+=12;break;case 2:a+=
12;b+=32;break;case 3:a-=8,b+=12}this._sptBul.move(34+a,18+b);this._sptBul.setFrame(c);this._sptBul.show();this.x=a;this.y=b;this.dir=c;this.state=Bullet.STATE_FIRE},reset:function(){this._sptBul.hide();this._boom.reset();this.state=Bullet.STATE_NONE},_go:function(){var a=0,b,c,d,e,f,j=App.Scene.Block,g=this.x,h=this.y;switch(this.dir){case 0:h+=8;if(0>=h)return 1;if(h%16)break;d=h/16-1;b=g>>4;c=b+1;e=j[d][b];f=j[d][c];e&15&&(a=this._TileHit(e,f,b,d,8,4,2,1));f&15&&(a|=this._TileHit(f,e,c,d,4,8,1,
2));break;case 1:if(416<=g)return 1;if(g%16)break;d=g/16;b=h>>4;c=b+1;e=j[b][d];f=j[c][d];e&15&&(a=this._TileHit(e,f,d,b,4,1,8,2));f&15&&(a|=this._TileHit(f,e,d,c,1,4,2,8));break;case 2:if(416<=h)return 1;if(h%16)break;d=h/16;b=g>>4;c=b+1;e=j[d][b];f=j[d][c];e&15&&(a=this._TileHit(e,f,b,d,2,1,8,4));f&15&&(a|=this._TileHit(f,e,c,d,1,2,4,8));break;case 3:g+=8;if(0>=g)return 1;if(g%16)break;d=g/16-1;b=h>>4;c=b+1;e=j[b][d];f=j[c][d];e&15&&(a=this._TileHit(e,f,d,b,8,2,4,1));f&15&&(a|=this._TileHit(f,e,
d,c,2,8,1,4))}e==Scene.BLOCK_IRON&&(a=1,this.pow&&(1==this.dir||3==this.dir?App.Scene.SetIronFrag(d,b,Scene.BLOCK_NONE):App.Scene.SetIronFrag(b,d,Scene.BLOCK_NONE)));f==Scene.BLOCK_IRON&&(a=1,this.pow&&(1==this.dir||3==this.dir?App.Scene.SetIronFrag(d,c,Scene.BLOCK_NONE):App.Scene.SetIronFrag(c,d,Scene.BLOCK_NONE)));if(e==Scene.BLOCK_BASE1||f==Scene.BLOCK_BASE1)App.Game.BaseDestroy(),a=1;b=App.Scene.Tanks;for(e=0;e<App.MAX_TANK;++e)if(c=b[e],c.NPC!=this.NPC&&c.isLive()){if(c.checkColl(this._sptBul)){if(c.isBulprf())return 2;
c.hit();return 1}for(f=0;f<c.bulMax;f++)if(d=c.bullets[f],d.state==Bullet.STATE_FIRE&&d._sptBul.collidesWith(this._sptBul))return d.state=Bullet.STATE_RESET,2}return a},_TileHit:function(a,b,c,d,e,f,j,g){var h=0;a&e&&(a&=~e,a&f&&(a&=~f),h=1);if(a&j&&(this.pow||0==h&&b!=Scene.BLOCK_IRON)){if(a=a&~j&g)a&=~g;h=1}h&&App.Scene.SetTileFrag(c,d,a);return h}});Class("Tank",{Static:{STATE_NONE:0,STATE_BIRTH:1,STATE_LIVE:2,STATE_BOOM:3,STATE_SCORE:4,STATE_RESET:5,BIRTH:Misc.ARR(Scene.FR_BIRTH,0,1,2,3,2,1,0,1,2,3,2,1,0),BULPRF:Misc.ARR(Scene.FR_BULPRF,0,0,1,1)},_icon:0,_wheel:0,_bonus:!1,_tickBirth:null,_tickRed:null,_statRed:null,_tickFlash:null,_tickScore:null,_sptTank:null,_boom:null,_sptBulprf:null,_timerBulprf:0,_timerFire:0,_fireDelay:16,_tickMove:null,state:0,NPC:!1,x:0,y:0,speed:0,dir:-1,type:0,HP:0,bullets:null,bulMax:0,Tank:function(a){this.NPC=
a;this._sptTank=new Sprite("res/Tank.png",32,32);this._sptTank.hide();App.GameUI.append(this._sptTank);this.bullets=[];this._boom=new Boom(!0);if(!a)this._sptBulprf=new Sprite("res/Misc.png",32,32),this._sptBulprf.hide(),this._sptBulprf.setFrameSeq(Tank.BULPRF),this._sptTank.append(this._sptBulprf);this._tickRed=new Tick(10);this._tickScore=new Tick(10);this._tickFlash=new Tick(2);this._tickMove=new Tick(2);this._statRed=new Tick(2);this._tickBirth=new Tick(a?5:2)},update:function(){this._timerFire--;
for(var a=0;a<this.bulMax;++a)this.bullets[a].update();switch(this.state){case Tank.STATE_BIRTH:if(!this._tickBirth.on())break;this._sptTank.visible||(this._sptTank.show(),this._sptTank.setZ(Scene.Z_TANK));this._sptTank.nextFrame();if(0==this._sptTank.getFrame())this._sptTank.setFrameSeq(),this.state=Tank.STATE_LIVE,this.setType(this.type);break;case Tank.STATE_LIVE:if(this.NPC){if(this._bonus){this._tickRed.on()&&(this._statRed.on()?--this._icon:++this._icon,this._updateFrame());break}if(3==this.type)switch(this.HP){case 1:this._icon=
10;break;case 2:this._icon=this._tickFlash.on()?13:12;break;case 3:this._icon=this._tickFlash.on()?13:10;break;case 4:this._icon=this._tickFlash.on()?12:10}this._updateFrame()}else--this._timerBulprf,0<this._timerBulprf?(this._sptBulprf.show(),this._sptBulprf.nextFrame()):0==this._timerBulprf&&this._sptBulprf.hide();break;case Tank.STATE_BOOM:if(!this._boom.update())break;this.NPC?this.state=-1==this.HP?Tank.STATE_RESET:Tank.STATE_SCORE:(this.setType(0),App.Game.LifeDec(),this.state=Tank.STATE_SCORE);
break;case Tank.STATE_SCORE:if(this._tickScore.on())this.state=Tank.STATE_RESET;break;case Tank.STATE_RESET:this._sptTank.hide(),this.NPC&&App.Game.KillEnemy(-1==this.HP?-1:this.type),this.state=Tank.STATE_NONE}},isLive:function(){return this.state==Tank.STATE_LIVE},isIdle:function(){return this.state==Tank.STATE_NONE},isBulprf:function(){return 0<this._timerBulprf},checkColl:function(a){return this._sptTank.collidesWith(a)},hit:function(a){a?this.HP=0:this._bonus&&App.Scene.Bonus.show();this._bonus=
!1;if(!(0<--this.HP))a||!this.NPC?this._sptTank.hide():(App.Game.SocreAdd(100*(this.type+1)),this._sptTank.setFrame(Scene.FR_SCORE+this.type),this._sptTank.setZ(Scene.Z_SCORE)),this._boom.move(this.x-16,this.y-16),this._boom.start(),this.state=Tank.STATE_BOOM},setType:function(a){this.type=a;if(this.state==Tank.STATE_LIVE){if(this.NPC)switch(this.speed=1,a){case 0:this._icon=4;this.HP=1;this._setBullets(1,2,!1);break;case 1:this._icon=6;this.speed=2;this.HP=1;this._setBullets(1,2,!1);break;case 2:this._icon=
8;this.HP=1;this._setBullets(1,3,!1);break;case 3:this._icon=10,this.HP=4,this._setBullets(1,2,!1)}else{this.speed=2;switch(a){case 0:this._fireDelay=13;this._setBullets(1,2,!1);break;case 1:this._fireDelay=11;this._setBullets(1,3,!1);break;case 2:this._fireDelay=7;this._setBullets(2,3,!1);break;case 3:this._fireDelay=7,this._setBullets(2,3,!0)}this._icon=a}this._updateFrame()}},hasBonus:function(){this._bonus=!0;this._statRed.reset()},setPos:function(a,b){this._sptTank.move(34+a,18+b);this.x=a;this.y=
b},setDir:function(a){if(this.dir!=a){var b;switch(this.dir){case 0:case 2:if(this.y%16)this.y=16*Math.round(this.y/16),b=!0;break;case 1:case 3:if(this.x%16)this.x=16*Math.round(this.x/16),b=!0}this.dir=a;b&&(this._sptTank.move(34+this.x,18+this.y),this._updateFrame())}},fire:function(){if(!(0<this._timerFire)){this._timerFire=this._fireDelay;var a,b;for(a=0;a<this.bulMax;++a)if(b=this.bullets[a],b.isIdle()){b.shot(this.x,this.y,this.dir);break}}},go:function(){if(!this._tickMove.on())return!0;this._tickMove.reset(3-
this.speed);var a=App.Scene.Tanks,b=this.x,c=this.y,d,e=b>>4,f=c>>4;this._wheel=+!this._wheel;this._updateFrame();switch(this.dir){case 0:if(0==c||0==c%16&&!this._moveTest(e,f-1,e+1,f-1))return!1;for(f=0;f<App.MAX_TANK;++f)if(d=a[f],d!=this&&d.isLive()&&(e=d.y+32-c,d=d.x,0<=e&&6>=e&&d-32<b&&b<d+32))return!1;c-=2;break;case 1:if(384==b||0==b%16&&!this._moveTest(e+2,f,e+2,f+1))return!1;for(f=0;f<App.MAX_TANK;++f)if(d=a[f],d!=this&&d.isLive()&&(e=b+32-d.x,y1=d.y,0<=e&&6>=e&&y1-32<c&&c<y1+32))return!1;
b+=2;break;case 2:if(384==c||0==c%16&&!this._moveTest(e,f+2,e+1,f+2))return!1;for(f=0;f<App.MAX_TANK;++f)if(d=a[f],d!=this&&d.isLive()&&(e=c+32-d.y,x1=d.x,0<=e&&6>=e&&x1-32<b&&b<x1+32))return!1;c+=2;break;case 3:if(0==b||0==b%16&&!this._moveTest(e-1,f,e-1,f+1))return!1;for(f=0;f<App.MAX_TANK;++f)if(d=a[f],d!=this&&d.isLive()&&(e=d.x+32-b,y1=d.y,0<=e&&6>=e&&y1-32<c&&c<y1+32))return!1;b-=2}this.x=b;this.y=c;this._sptTank.move(34+b,18+c);return!0},onIce:function(){return Scene.BLOCK_ICE==App.Scene.GetBlock4x4(this.x>>
4,this.y>>4)},birth:function(){this.state=Tank.STATE_BIRTH;this._sptTank.setFrameSeq(Tank.BIRTH)},startBulProof:function(a){this._timerBulprf=a},reset:function(){for(var a=0;a<this.bulMax;++a)this.bullets[a].reset();if(0<this._timerBulprf)this._timerBulprf=0,this._sptBulprf.hide();this._bonus=!1;this._tickMove.reset(2);this._timerFire=0;this._tickRed.reset();this._tickScore.reset();this._sptTank.hide();this.state=Tank.STATE_NONE},_updateFrame:function(){this._sptTank.setFrame(28*this.dir+14*this._wheel+
this._icon)},_setBullets:function(a,b,c){var d,e;for(d=0;d<a;++d)(e=this.bullets[d])||(e=this.bullets[d]=new Bullet),e.speed=b,e.pow=c,e.NPC=this.NPC;this.bulMax=a},_moveTest:function(a,b,c,d){var e=App.Scene.Block,c=e[d][c];return 16==(e[b][a]|16)&&16==(c|16)}});Class("UIOpen:Layer",{_lalScore:null,_sptSel:null,_tickSel:null,UIOpen:function(){this.Layer();this._tickSel=new Tick(5);var a;this._lalScore=new Lable;this._lalScore.move(36,48);this._lalScore.setColor("#FFF");this.append(this._lalScore);this.DispScore();a=new Sprite("res/UI.png",376,160);a.move(56,96);this.append(a);a=new Lable;a.move(178,272);a.setText("1  PLAYER\n2  PLAYERS\nCONSTRUCTION");a.setColor("#FFF");this.append(a);this._sptSel=new Sprite("res/Tank.png",32,32);this._sptSel.move(130,272);
this._sptSel.setFrameSeq([28,42]);this.append(this._sptSel)},OnEnter:function(){this.show();this.setY(448);this._sptSel.hide()},OnLeave:function(){this.hide();this._sptSel.hide()},OnUpdate:function(a){224>=a?(Input.isPressed(Input.ACTION_START)&&(a=224),this.setY(448-2*a)):225==a?this._sptSel.show():this._tickSel.on()&&this._sptSel.nextFrame();return Input.isPressed(Input.ACTION_START)?App.MyApp.Go(App.GameUI):a},DispScore:function(){this._lalScore.setText("I-"+Misc.StrN(App.Game.Score?App.Game.Score:
"00",11)+"  HI- "+App.Game.ScoreHi)}});Class("UIGame:Layer",{EnemyFlag:null,LableLife:null,LableStg:null,_lalStage:null,_arrMask:null,_layInfo:null,_lalGameOver:null,_timerOver:0,UIGame:function(){this.Layer();this._tickWater=new Tick(60);this._statWater=new Tick(2);this._tickStgClr=new Tick(200);var a,b;this._layInfo=new Layer;this._layInfo.move(452,0);this._layInfo.setSize(64,448);this.append(this._layInfo);this.EnemyFlag=[];for(b=0;20>b;++b)a=this.EnemyFlag[b]=new Sprite("res/Misc.png",16,16),a.setFrame(10),a.move(18+16*(b%2),34+16*
~~(b/2)),this._layInfo.append(a);b=new Lable;b.setText("I P");b.move(14,252);this._layInfo.append(b);a=new Sprite("res/Misc.png",16,16);a.setFrame(11);a.move(14,280);this._layInfo.append(a);this.LableLife=new Lable;this.LableLife.setText("2");this.LableLife.move(32,272);this._layInfo.append(this.LableLife);a=new Sprite("res/Misc.png",32,32);a.setFrame(4);a.move(14,352);this._layInfo.append(a);this.LableStg=new Lable;this.LableStg.setAlign("right");this.LableStg.setSize(48,30);this.LableStg.move(0,
380);this._layInfo.append(this.LableStg);this._arrMask=[];for(b=0;2>b;++b)a=this._arrMask[b]=new Layer,a.setSize(512,224),a.setBG("#666"),a.setZ(Scene.Z_UI),this.append(a);this._lalStage=new Lable;this._lalStage.setSize(512,25);this._lalStage.setY(210);this._lalStage.setZ(Scene.Z_UI);this._lalStage.setAlign("center");this.append(this._lalStage);this._lalGameOver=new Lable("GAME\nOVER");this._lalGameOver.move(212,448);this._lalGameOver.setColor("#B53120");this._lalGameOver.setZ(Scene.Z_UI);this._lalStage.setAlign("center");
this._lalGameOver.hide();this.append(this._lalGameOver)},OnEnter:function(){this.show();this._arrMask[0].move(0,-240);this._arrMask[1].move(0,464);App.Game.FirstStart&&this._layInfo.hide()},OnLeave:function(){this.hide();this._timerOver=0;App.Scene.Bonus.reset();for(var a=0;a<App.MAX_TANK;++a)App.Scene.Tanks[a].reset()},OnUpdate:function(a){if(101<a){if(App.Game.Update())return App.MyApp.Go(App.ScoreUI);if(!App.Game.GameOver)return App.Game.Command(),a;if(30>=++this._timerOver)App.Game.Command();
else if(156>=this._timerOver)App.Game.StgClr||(this._lalGameOver.show(),this._lalGameOver.setY(508-2*this._timerOver));else if(!(300>=this._timerOver))return this._lalGameOver.hide(),App.MyApp.Go(App.ScoreUI);return a}if(20>a)this._arrMask[0].moveBy(0,12),this._arrMask[1].moveBy(0,-12);else if(20==a)this.setBG("#666"),this._lalStage.show();else if(21==a){this._lalStage.setText("STAGE"+Misc.StrN(App.Game.Stage,5));if(!App.Game.FirstStart)return a;--a;switch(!0){case Input.isPressed(Input.ACTION_GAME_A):case Input.isPressed(Input.ACTION_GAME_C):App.Game.Stage<
App.MAX_STAGE&&App.Game.Stage++;break;case Input.isPressed(Input.ACTION_GAME_B):case Input.isPressed(Input.ACTION_GAME_D):1<App.Game.Stage&&--App.Game.Stage;break;case Input.isPressed(Input.ACTION_START):++a}}else if(22==a){for(var b=0;20>b;++b)this.EnemyFlag[b].show();App.Game.FirstStart=!1;App.Game.NewStage()}else 80>a||(80==a?(this._lalStage.hide(),this._layInfo.hide()):100>=a?(this._arrMask[0].moveBy(0,-12),this._arrMask[1].moveBy(0,12)):101==a&&this._layInfo.show());return a}});Class("UIScore:Layer",{_lalHiScore:null,_lalStage:null,_lalScroe:null,_arrLalPTS:null,_lalTotalNum:null,_tickDisp:null,_iNumType:0,_iNumAll:0,UIScore:function(){this.Layer();this._tickDisp=new Tick(30);var a,b;a=new Lable("HI-SCORE");a.move(130,32);a.setSize(170,30);a.setColor("#B53120");this.append(a);this._lalHi=new Lable;this._lalHi.move(305,32);this._lalHi.setSize(200,30);this._lalHi.setColor("#EA9E22");this.append(this._lalHi);this._lalStage=new Lable;this._lalStage.move(0,64);this._lalStage.setSize(512,
30);this._lalStage.setColor("#FFF");this._lalStage.setAlign("center");this.append(this._lalStage);a=new Lable("I-PLAYER");a.move(0,96);a.setSize(185,30);a.setColor("#B53120");a.setAlign("right");this.append(a);this._lalScroe=new Lable;this._lalScroe.move(0,128);this._lalScroe.setSize(185,30);this._lalScroe.setAlign("right");this._lalScroe.setColor("#EA9E22");this.append(this._lalScroe);var c,d,e;this._arrPTS=[];for(b=0;4>b;++b)c=176+48*b,a=new Lable,a.move(130,c),a.setSize(55,30),a.setColor("#FFF"),
a.setAlign("right"),a.setText("PTS"),d=new Lable,d.move(0,c),d.setSize(112,30),d.setColor("#FFF"),d.setAlign("right"),e=new Lable,e.move(183,c),e.setSize(45,30),e.setColor("#FFF"),e.setAlign("right"),this.append(a),this.append(d),this.append(e),this._arrPTS[b]={L:d,R:e};a=new Lable;a.move(0,368);a.setSize(185,30);a.setColor("#FFF");a.setAlign("right");a.setText("TOTAL");this.append(a);this._lalTotal=new Lable;this._lalTotal.move(183,368);this._lalTotal.setSize(45,30);this._lalTotal.setColor("#FFF");
this._lalTotal.setAlign("right");this.append(this._lalTotal);for(b=0;4>b;b++)a=new Sprite("res/Misc.png",32,32),a.move(232,186+48*b),a.setFrame(3),this.append(a),a=new Sprite("res/Tank.png",32,32),a.move(250,176+48*b),a.setFrame(4+2*b),this.append(a);b=new Layer;b.setBG("#FFF");b.setSize(128,3);b.move(192,360);this.append(b)},OnEnter:function(){this.show();this._lalHi.setText(App.Game.ScoreHi+"");var a,b;for(b=0;4>b;++b)a=this._arrPTS[b],a.L.setText(""),a.R.setText("");this._lalTotal.setText("");
this._lalScroe.setText(App.Game.Score+"");this._lalStage.setText("STAGE  "+App.Game.Stage);this._tickDisp.reset(30);this._iNumAll=this._iNumType=0},OnLeave:function(){this.hide()},OnUpdate:function(a){if(4>a){if(!this._tickDisp.on())return--a;this._tickDisp.reset(10);var b=this._arrPTS[a];b.L.setText(100*this._iNumType*(a+1)+"");b.R.setText(this._iNumType+"");if(this._iNumType<App.Game.KillTypeNum[a])return this._iNumType++,this._iNumAll++,--a;this._tickDisp.reset(30);this._iNumType=0}else if(50==
a)this._lalTotal.setText(this._iNumAll+"");else if(!(180>a)&&180==a){if(App.Game.GameOver)return App.MyApp.Go(App.OverUI);if(++App.Game.Stage>App.MAX_STAGE)App.Game.Stage=1;return App.MyApp.Go(App.GameUI)}return a}});Class("UIOver:Layer",{UIOver:function(){this.Layer();var a=new Sprite("res/UI.png",376,160);a.setFrame(1);a.move(132,144);this.append(a)},OnEnter:function(){this.show()},OnLeave:function(){this.hide()},OnUpdate:function(a){if(100>a)Input.isPressed(Input.ACTION_START)&&(a=99);else if(100==a){if(App.Game.ScoreHi<App.Game.Score)App.Game.ScoreHi=App.Game.Score;App.OpenUI.DispScore();App.Scene.ClearMap();App.Game.Reset();App.Scene.Tanks[0].setType(0);App.GameUI.setBG("#000");return App.MyApp.Go(App.OpenUI)}return a}});RES_DATA="AAAAAAAAAAAAAAeAeAeAeAeAeAAeAeAeAeAeAeAAeAeAeVeAeAeAAeAeAYAYAeAeAAYAYAbAbAYAYAbAbbAYAYAbbAbJAYYAbAbAYYAJAbAbAeeeAbAbAAeAeAeAeAeAeAAeAeAYAYAeAeAAeAeA^bZAeAeAAAAAA`C[AAAAAAAAAAAAAAAAAAAAAAABBAAAVAAAVAAAAAAeAVAAAeAeAeAAeAAAAeeAeVeAAAAeAAAAAVAAABAAeAAVAAeBeVBBAAAeAAVABAAAeeeBBBVAABeAAAAVBeAeAeAeAVeAVAeAeAeVeAAeAeAeeeAeVeAAeAeAeeeAAAAAAeAAA^bZAeAeAAeAeA`C[AeeeADDBBBBAAAAAAAAAAAAAAAAAAeAAAeAAAAABBBeAAAAASSSeBBBAAAAAAAAABBBBAAAeAeee[BBBBeeeYAeA`ABBBBAAeAAAA`AABAAAAVVVAABAAbAbAAAAABBBBe[`e[`YYYBBBBAAAAAeAbbBBBBeAALAAAYYBBBAeeALA^bZABBBAVeeAA`C[AeAAAAAAAAAAAAAAAAABBBBDDABBAAAAAAAABABBAAbeebbAAABBAA`eeeeeebAJJAAeeeeeeee[AAA`YAAAYeeA[AEA`ALALAe[AAAAAeAbbAAe[AEEAAeeeeeeeeAAAA`eeeeeeee[AAAYYeeeeeeYYAAAeebYeeYbeeABBAYYA^bZYYABBVBAAA`C[AABBVCCCCCCCCCCBBBBBAADDDAAAAeeAAAAAAASAbAeAAAJJVAAVAeAAAeAAAAAAeAeeeAeeAEEAEYAAAYAAAAEAAAAAbAEEAEEEAeeeeAAEeAe[AAAAAAAAEAAAAAQLAEEEAEAVAeAQAAAAAbbAAAAAQeeAAAAeYYYebAAAeeYAA^bZAYeAAYAAAA`C[AAAAACCCCCDDAAAAAAAABBBBBAAAAA`A[BBAAAA[QA[AAA`B[`BA[QA[AeA`B[`BAeAAeAVAeBAeBAAA`JAeAYLABBee[AABeBAA`eeAAAA`BBB[AAAAVeeAYBBBY`eeVJJJAbABAbAJJJAeAAeAAAeAAAAAe[AAYAYAA`eBAAYAA^bZAABBBAAbAA`C[AAbBBCCCCCCCBBAAAAAAAAADDAAAAAAAJJAAAAAAVJJJAAAAVAAAAVAAABAJVVAAAVAAABVAAAVAAAAAABVVAAAJVAAVABVVVAVAAAAAQAVVAAAVVAAALAAAVAVVVAAQAAQVAAAVVBAAVAAVAAAAVBAAVVAAJJVAABAAVAAAAAAAA^bZAJASVSSAAA`C[AAAAAAAABBBBCCCCCCAAAAAAAAAeAAeAbAeAAABeeeAeASAe[AABBBAAYAeAYA`[BEEEEEEEEEEAEAeAAAAbbAAAAAAAeAA`eeYeYJJeeAeA`eeBeSSeAAAVASABBBBAAEEAEEEEEAEEEEBBA`AAbbAAAAABBeA[AA`ASbeABSeA[^bZAYAeAAAAAA`C[AbAYACCCCCCCDDBBBBAAAAAAAAAAeAAAAASBAAeAAAAASBQVLAeAAASBQVLAJBAAAAQVLAJBAAAAAAAAJBAAAAAAAAAAABSBABSBAAAVeAQVLAQVLAeVAAABJBABJBAAAAAAASAAASAAAAeAAQVLAQVLAAeeAABJBABJBAAeAAbAA^bZAAbAAAAeeA`C[AeeAAAAAAAABBBBCCCCCCCDDDAAAAAAAAAAAAAA`YeAAAAAAeY[`YAAeABBAeAA`eAAAeBBBBeAA`eAA`eBVVBe[Ae`bbeEEEEEEeeeAeeeVVeVVeee[AAeeVAeAVee[AAAeeeeeeeee[AeBYYYVVYYYYBeeBBBBBBBBBBBeAABBB^bZBBBBAAAA[A`C[AA[AAAAAAAAAAAAAABBCCCCDDAAAAAVAeAeeAAA`eeeeAeAAAAAAAA[AeAeeABBBA`AAAAAVABBBBA`AeeeVeeBBYVAYYYVAAeABBA``eeeAVBBBBBAAAAAVAABBBBBeAVeABBBBVBBBeA`eBBBBBAAAAe[AeBBAAAAJeeeAAABBA^bZAeA`AAbBBA`C[AAAAABBBBBDDDDDDCCCCBBBBBAAAAAAAeeeAAAAeeebAbAAeAAAAAAAeAYAAAAeeAEEEEEAe[AAeJAASSSEAeAVLeAeAeeeEEEAEeeAAAAAVEAAAEJAAEEEAEEeeAEAAAAAAAAeJJAEEEAeeeAAAAAAAAAAAAeAJJAAAeeA`eAAAA^bZAeAAeAAAAA`C[AAAAACCCCCCCCBBBBBBDDDDDDAAAAbAAAbAAAAAeeeeAAAeeeeAAeAAAAeAAAAVAAVAeYAAAYeAeeAeA[BSVSB`AVeAYAABBBBBAAJeeSAABBBBBAAbeeVA[BJVJB`AeAeeAebAAAbeAVAeVAAAAeAAAAeAeeeeeAAAeeeVVeeAAY^bZYAAeAeeAAA`C[AAAAACCCCCCCCBBBBBBBBDDDDAAAAAAAAAAAAABBAAbeeebAABBBAA`eeeee[AABAAAeeBeBeeAAAAAAeBBeBBeAAABAAeeeeeeeAABBBAAeBeBeAABBEEEAeeeeeAEEEAAAA`````AAAAAAAA[[[[[AAAAQQQAAAAAAALLL[[[AA^bZAA```LLLQA`C[ALQQQCCCCCCCCCCBBBBDDDDDDAAAAeeAAeAAAAABBeeAAAeAAAABBBBBBBBeeAAABJeBeeeBBBBeVBBeBBBJBBeLeAABBeSBBBBeAeAAeeeeeBBee[BBQJeeAAAeYAAABAeAeASbYBBe[BAeAA`eYBBeAABAee[`YBBbBeBBAAeAB^bZeBYBAAAYAA`C[ABBBAAABBBBBBBBBBDDDDDDDDAAAAAAAAAAAAAAAVBVAAAAAAAAAAABABSAAAAAAABAAAABbAAAAAABBAABABSAAAAABABABAABbAAAABAABAAABBSAAAABAAAABBBBbAAAABAABABBBBAeAAAAABAABBBVeeAAAAABABBBBVeeAA^bZBABBBVVeeA`C[BAABBAAAAAAAAAAAAAAAABBDDAAAAbAAAAAbAAAeAeeAAGGGeeAAeAAeAVGGGGGAGGGLeAAeGGGGAGGGGGGee`[AAAAAQGGGGe`[AJJeeeeGGGGGGGeeAAAeeGGGGLAAAAeeeAGGGeeAeAGGGeGAAAAeAeAGGGGGJAJAAbeAeGGGG^bZAeAAAeeLAA`C[AeAeADDBBCCCCCCCCAAAAAAAAAAAAAAAAVVVBAAeAAAAAAVAAVAeBeAAAeeeeAVAAeBeAAeABeVVAAAeABVeBAeAAAAAAAVAeVeeAAAAAeeVeAVAAAAAAAeABeVBAAAAAVVVBAeAAeeAAAVAeeeeAAeVVAAVAAVAAAAAVeeABVVVA^bZAAeVVAAAAA`C[AAAVVDDDDAACCCCCCBBBBBBBBAeAeAeAeAeAeAAeAeAeAeAeAeAAJAJAJAJAJAJAbAbAeAAAeAbAbeAeYeAeAeYeAeJAJAVAJAVAJAJBBAAeABAeAABBBBBBeYBYeBBBBBBBBBBBBBBBBBbAbAeBBBeAbAbAeAeAABAAeAeAAeAeA^bZAeAeAAYAYA`C[AYAYABBBDDDDDDDDAAAACCCCCAAAAAAAAAAAAASAAAAASAAAAASAAAAAAAAAAAAA\\YZAAAAAA[AAA[AA\\Z\\Z\\Z[A\\_[X[[[[[[[[Z]YXYAXAXA_WXAXWAAAAAAA^_AAAAAAAAAAA_\\AAAABAAAAAAAAAAABBBAAAAAAAAABBVBBAA^bZAABBVVVBBA`C[ABBVVBBBBBBBBAACCDDDDDDDDAAAbbbAAbAAAAAbeeeeeeeeAAAABBBBBBBBeeAABBAAAAAABBeeABAVAAVAAABBBABAVAAVAAABBBABAABAAAABBee[BBBBBBBBBeee[eBBeeBBBeeeeAAeeeeeeeeeeAVVAeVeeeeee[AVAVeYV^bZeeVVVAAAAA`C[AAAAACCCCCCCCBBAAAAAADDDDAAAAABAAAAAAAAAAABVBAAAAAAAABAABAABBAAAABeBAAABeeBAAAABeBAAABBAABBAABAABAAAABVeBAAABVBAABABVeBAAABAABVBAeBAABAAABABAABAABeBABeBAAAAAABeBAABAABAABAAB^bZAABVBBVBAA`C[ABeBABBBBBBBBAAAAAACCDDDDAAAAAAAAAAAAAAAAAAVVAAAAAAAAAAAAVAAAAAAAVVBBeVeBBVVAAAAVBBVBBVAAABAAAVBBBVAAABVBAAABBBAAABVBAAASJBJSAAABAAAAVASAVAAAAAAAVAAVAAVAAAAAAAAAAAAAAAAAAAAA^bZAAAAAAAVAA`C[AAVAADDDDDDCCCCBBBBBBBBBBAAVAeJAAAA`AAAAeAeBAYeeeAAABBAeB`[AAAVVBBBBBBeeeA`eAAABBbbJeA`eY`eJAbYYAAAeYA``AbeGGGGGGGGG`AYAGGGGGGGGGAAVAGGGGGGGGGeAeAGGGGGGGGG`AeAGGGGGGGGG`AeAA^bZGGGGGAAYAA`C[AGGGGCCCCDDBBBBAAAAAAAAAAAAAVAeAeAeAVAAeAeAAAAAVAAAAeAeAAVAAVAVVAeAAAeAVeAAAVAAAAeeAeeAVAAAAVAeAAeeAeeAVAVAAeAVAAVeAAAeeAeAAAeVAAAVeeAeeAeeAAeAeAAAeVAAAAeeAAAeAeeVAVAAeeAeeA^bZAeVAAeAeAA`C[AeeeACCBBBBBBBBDDDDDDDDDDAAEEAAAAAAAAASAAEBA[AAAAAABSAAAALA[AEEABBAJb`AALBEAABBBAAVb`AAAASBBJSA`AVbAASBBJAAYVA`AJABBAAAAA[YVAABBBAAEBQAA[YSJBBAEEA`AQAAAAABAAAAAA`ABEAAJVAAAA^bZAEEAAVVAAA`C[AAAAVBBBBBBDDDDDDAAAACCCCAAAAVAAAAAAAAVVAAVAAVVAAAAAVAAVAAAVAVVBAVAAVVVABAVAAAeAAAAVAVVVAABVVAVeVeeAAAAAAVBVBAAeAAVVAAVAABAAVAAVAAAeAAVAAVVeVABVVVBBeVVAeVAAAAeAAAABBAeAAAAVA^bZABAeAAAAVA`C[AVAeACCDDDDDDDDBBBBBBBBAAAAAAAAAAAAQLAAAAAAASAAAVAAAAAAAbBbAe[AAAAAASBBBSe[AAAAAbBBGBBe[AAAASBBGGGBB[AAAbBBGGGGGBBbASBBGGGGGGGBBSBBGGGGGGGGGBBABGGGGGGGGGBAABGGGGGGGGGBAABGGG^bZGGGBAABGGA`C[AGGBABBDAAAAAAAAAAAAAAACCAAAAAAAAAAeAAAeEEAVAeAAAAAAAEEeBBBEEAVAAAAAABBBEEeAAAVAAEEABAAAAABBeAEEVAAAAeABBBAAAAAAVAAVAeEEAeAAAAAAAVAEEBBEEBBAeAAAAABAEEBBEEAAAAVBAAABBEEAAAeAe^bZAAAAAeAAAA`C[AeVAACCCCCCCCCCBBBBDDDDDDAAAAAAAAAAAAAAAAAAbbAAASAAASSAbBBSAbBbAbBBbBBBBbBBBbBBBBBBBBBBBBBVBEBBBBBEBBBBBBEEEBBBEEEBVBBBBEBVBBBEBBBBBBBBBBBBBBBBBBBBYYBBBBBJJBBBYAAYBBBJAAJYYA^bZYYYAAAAAAA`C[AAAAAAAAABBBBBBBBCCCCDDDDAAAEAAAAEAAAAEEAEAEEEEAEEEBBeAAeAAEAEBEBEEEEAVAAeBBBBBAEAAEAEEEEBEEAEAEEAAEAAAAAeBeAeBAEAAEAEEBEEEEABeAEeAAeAAEABBEAEEEAEEAEeEEEAAAAeABBAABEAAEAEEEB^bZAEAEEAEAAA`C[AAAAACCCBBBBBBBBDDDDDDCCCGGGGGGGGGGGGGGGGGGGGGGGGGGGGGeGGGGGeGGGGeAeAeGeAeAeGGYYeAAAAAeYYGGGGebeVebeGGGVGGGAJAJAGGGVGGGGAbAbAGGGGGGGGAeAeAGGGGGGGeAAbAAeGGGGeGeAJJJAeGeGAebeA^bZAebeAAYAAA`C[AAAYADDDDDDDDAAAAAACCBBBBAAAAVAAAAVAAAAVAAAVAAVBBAAAAVAAAAVBSLAAAAAVABBBBBAQAALAAVBBVBAAVAAJLBAVBBVAAQAAABBBBBAAVAAAASLBAVBAAAVAAABBBVAVASAAVABBBVAAAAQAAAAAAVAAAAAAAAQVAAAAA^bZASLAALASAA`C[AAAAABBBBDDDDDDDDCCCCBBBBAAAA[`AAAAAAA[[[`A[AA[[AAA[[[eeAAA[e[AA``Ae[AA`[eeAAA[Ae`[A[eeeAAA[`AAe[e``eAAA[AA`ee[A[eAAA`AA[ee[A[eAAA`YYAeeeA[[YeA`AA`[e`[[[``AA[Ae`[eeAA`AAA[`[^bZe[A[AAA[`A`C[AeeAACCCCBBBBBBBBBBDDDDDDABAAAAAAAAABABAAABABABBAABJA`A\\_A[`A\\_JAA`AcdA[`AcdAA_\\A[`V_\\A[`AEABAABABAABAEA]W]W]W[`a`AAAY[[A[A[`Y`YAAYWYWWAWXAXYAAAAGAAAAAGAAAAAGBGAAAGBGAeBAAGA^bZAGAeeVBAAA`C[AAeeVDCBCACCCCDDBBBBBBDDD";
